# Devcontainer Vibe

å®£è¨€çš„ãªè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸdevcontainerç’°å¢ƒã‚’ç”Ÿæˆã™ã‚‹Denoãƒ™ãƒ¼ã‚¹ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

## ç‰¹å¾´

- ğŸ› ï¸ **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£** -
  ç•°ãªã‚‹ãƒ„ãƒ¼ãƒ«ã‚„ã‚µãƒ¼ãƒ“ã‚¹ç”¨ã®ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- ğŸ“¦ **è¤‡æ•°ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼** - aptã€miseã€Nixã‚’ã‚µãƒãƒ¼ãƒˆ
- ğŸ”¥ **ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®š** -
  ãƒ‰ãƒ¡ã‚¤ãƒ³è¨±å¯ãƒªã‚¹ãƒˆã‚’æŒã¤çµ„ã¿è¾¼ã¿ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®š
- ğŸ¨ **VS Codeçµ±åˆ** - è‡ªå‹•æ‹¡å¼µæ©Ÿèƒ½ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨è¨­å®š
- ğŸš **ã‚·ã‚§ãƒ«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º** - bashã€fishã€zshã‚’ã‚µãƒãƒ¼ãƒˆ
- âœ… **å‹å®‰å…¨ãªè¨­å®š** - Zod v4ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼
- ğŸ§ª **åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆ** - ä¾‹ã‚’å«ã‚€å®Œå…¨ãªãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### JSRã‹ã‚‰ï¼ˆæ¨å¥¨ï¼‰

```bash
# æœ€åˆã«ã‚µãƒ³ãƒ—ãƒ«è¨­å®šã‚’ç”Ÿæˆ
deno run -RW jsr:@masinc/devcontainer-vibe --init minimal
# ã¾ãŸã¯
deno run -RW jsr:@masinc/devcontainer-vibe --init deno

# æ—¢å­˜ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸Šæ›¸ã
deno run -RW jsr:@masinc/devcontainer-vibe --init deno --overwrite

# devcontainerã‚’ç”Ÿæˆ
deno run -RW jsr:@masinc/devcontainer-vibe --config devcontainer-config.json
```

### ã‚½ãƒ¼ã‚¹ã‹ã‚‰

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/masinc/devcontainer-vibe.git
cd devcontainer-vibe

# ä¾‹ã®è¨­å®šã‹ã‚‰devcontainerã‚’ç”Ÿæˆ
deno task generate --config examples/minimal.json

# ç‰¹å®šã®å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç”Ÿæˆ
deno task generate --config examples/deno.json --output my-devcontainer

# ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
deno task test
```

## åŸºæœ¬è¨­å®š

```json
{
  "name": "my-project",
  "description": "My development environment",
  "components": [
    {
      "name": "apt.install",
      "params": {
        "packages": ["git", "curl", "ripgrep"]
      }
    },
    "mise.setup",
    {
      "name": "mise.install",
      "params": {
        "packages": ["deno@latest", "node@lts"]
      }
    },
    {
      "name": "shell.post-create",
      "params": {
        "user": "vscode",
        "commands": ["echo 'ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ï¼'", "npm install -g typescript"]
      }
    }
  ]
}
```

## åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†

- `apt.install` - ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆè¤‡æ•°åˆ©ç”¨å¯èƒ½ï¼‰
- `mise.setup` - ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ç®¡ç†è¨­å®šï¼ˆå˜ä¸€åˆ©ç”¨ã®ã¿ï¼‰
- `mise.install` - ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆè¤‡æ•°åˆ©ç”¨å¯èƒ½ï¼‰
- `nix.setup` - Home Managerå¯¾å¿œNixã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆå˜ä¸€åˆ©ç”¨ã®ã¿ï¼‰
- `nix.install` - Nixãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆè¤‡æ•°åˆ©ç”¨å¯èƒ½ï¼‰

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ & ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«

- `firewall.setup` - ipsetå¯¾å¿œåŸºæœ¬ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®šï¼ˆå˜ä¸€åˆ©ç”¨ã®ã¿ï¼‰
- `firewall.domain` - è‡ªå‹•å®Ÿè¡Œå¯¾å¿œãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ãƒ«ãƒ¼ãƒ«ï¼ˆè¤‡æ•°åˆ©ç”¨å¯èƒ½ï¼‰
- `firewall.github-api` - è‡ªå‹•å®Ÿè¡Œå¯¾å¿œGitHub API IPç¯„å›²ï¼ˆå˜ä¸€åˆ©ç”¨ã®ã¿ï¼‰
- `sudo.disable` - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ï¼ˆå˜ä¸€åˆ©ç”¨ã®ã¿ï¼‰

### é–‹ç™ºç’°å¢ƒ

- `vscode.install` - VS Codeæ‹¡å¼µæ©Ÿèƒ½ï¼ˆè¤‡æ•°åˆ©ç”¨å¯èƒ½ï¼‰
- `shell.setup` - ã‚·ã‚§ãƒ«è¨­å®šï¼ˆå˜ä¸€åˆ©ç”¨ã®ã¿ï¼‰
- `shell.dockerfile` - Dockerå†…ã§ã®ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ï¼ˆè¤‡æ•°åˆ©ç”¨å¯èƒ½ï¼‰
- `shell.post-create` - ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ä½œæˆå¾Œã®ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ï¼ˆè¤‡æ•°åˆ©ç”¨å¯èƒ½ï¼‰

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨ãƒ«ãƒ¼ãƒ«

- **å˜ä¸€åˆ©ç”¨ã®ã¿**: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯è¨­å®šã”ã¨ã«ä¸€åº¦ã ã‘ä½¿ç”¨å¯èƒ½
- **è¤‡æ•°åˆ©ç”¨å¯èƒ½**: ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ã‚³ãƒãƒ³ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯è¤‡æ•°å›ä½¿ç”¨å¯èƒ½
- **è‡ªå‹•ãƒãƒ¼ã‚¸**: åŒã˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¤‡æ•°å›ä½¿ç”¨ã¯è‡ªå‹•çš„ã«ãƒãƒ¼ã‚¸ã•ã‚Œã‚‹

## CLIä½¿ç”¨æ–¹æ³•

```bash
# åŸºæœ¬ä½¿ç”¨
devcontainer-vibe --config config.json

# å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®š
devcontainer-vibe --config config.json --output my-project

# æ—¢å­˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å¼·åˆ¶ä¸Šæ›¸ã
devcontainer-vibe --config config.json --output existing-dir --overwrite

# ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º
devcontainer-vibe --help
```

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### [è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼](docs/config-format.ja.md)

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã®å®Œå…¨ã‚¬ã‚¤ãƒ‰ï¼š

- åŸºæœ¬æ§‹é€ ã¨ã‚¹ã‚­ãƒ¼ãƒ
- åˆ©ç”¨å¯èƒ½ãªã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‹
- é«˜åº¦ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³
- ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«
- åŒ…æ‹¬çš„ãªä¾‹

### [CLIã‚ªãƒ—ã‚·ãƒ§ãƒ³](docs/cli-options.ja.md)

ã™ã¹ã¦ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼š

- `--config` / `-c`: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
- `--output` / `-o`: å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
- `--help` / `-h`: ãƒ˜ãƒ«ãƒ—æƒ…å ±ã®è¡¨ç¤º
- ä½¿ç”¨ä¾‹ã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

## é–‹ç™º

```bash
# ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ä»˜ãé–‹ç™º
deno task dev

# devcontainerã‚’ç”Ÿæˆï¼ˆå®‰å…¨ - generated-devcontainerã«å‡ºåŠ›ï¼‰
deno task generate

# æœ¬ç•ªç”¨.devcontainerãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç”Ÿæˆ
deno task generate:prod

# ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
deno task test
```

## è¦ä»¶

- Deno 2.0+
- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸ã®èª­ã¿æ›¸ãæ¨©é™

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - è©³ç´°ã¯LICENSEãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§
